<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">

<!-- Generated by fmtoweb (v. 2.9b) by Peter G. Martin -->
<HTML>
<HEAD><TITLE>Southern Surveyor SS 02/98 ADCP Data Processing Notes</TITLE></HEAD>
<BODY>

<A name="105098"><!-- 105098 --></A>
<P>

<A name="105122"><!-- 105122 --></A>


<A name="105076"><!-- 105076 --></A>
<P>

<A name="113029"><!-- 113029 --></A>
<H2>Southern Surveyor ADCP </H2>

<A name="113031"><!-- 113031 --></A>
<H2>Data Processing Notes</H2>

<A name="113030"><!-- 113030 --></A>


<A name="112998"><!-- 112998 --></A>
<H2>Cruise SS 02/98</H2>

<A name="112999"><!-- 112999 --></A>
<H2>9 - 30 March, 1998</H2>

<A name="112991"><!-- 112991 --></A>


<A name="112994"><!-- 112994 --></A>
<H2>Data processing completed on 15 May, 1998 by</H2>

<A name="113004"><!-- 113004 --></A>
<H2>Helen Beggs, email: Helen.Beggs@marine.csiro.au</H2>

<A name="113016"><!-- 113016 --></A>


<A name="113017"><!-- 113017 --></A>
<H2>Principal Investigator:  Dr Steve Rintoul, CSIRO Division of Marine Research, Hobart, Tasmania, Australia.</H2>

<A name="113037"><!-- 113037 --></A>


<A name="113025"><!-- 113025 --></A>
<H2>&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;Features of this voyage</H2>

<A name="113026"><!-- 113026 --></A>
<P>The acoustic interference and slow ping rate problems which plagued the newly installed RDI broadband ADCP during SS01/98 were solved on SS02/98 and did not result in any data loss or corruption.  During the first few hours of the cruise, while the ADCP was in bottom track mode, the transducer pinged at approximately 1/8 Hz.  For the remainder of the cruise the ping rate was greater than 1/2 Hz in bottom track mode and greater than 1 Hz in normal profiling mode.  </P>

<A name="113104"><!-- 113104 --></A>
<P>During SS02/98, the ADCP was "master" of the EK500 echosounder (transmitting at 1238 kHz and 120 kHz), and the bridge echosounder was nearly always off.  Unlike SS01/98, the ADCP data on SS 02/98 did not appear to suffer from intereference from acoustic devices.   The new Ashtech 3DF ADU2 GPS supplied heading, pitch and roll, in addition to latitude, longitude, speed and direction, and these data were incorporated into the logged ADCP data.  The 3DF GPS occasionally "forgot" its calibration coefficients and output bad values until it was stopped and reset.  The ADCP data during these brief periods was not processed.</P>

<A name="113125"><!-- 113125 --></A>
<P>The ADCP was operated in WM1 WB1 (medium-band) mode for nearly the entire cruise.  This resulted in a range for the processed 20 minute profiles  of approximately 300 m when on station and 0 to 230 m while the ship was steaming (depending on sea conditions).  Due to calibration error, the most accurate current velocities were calculated when the ship was stationary (see Section 5).</P>

<A name="113052"><!-- 113052 --></A>
<P>I did not have the processed sounder depth data to process the ADCP data, however the depths calculated by the ADCP transducer were adequate in shallow water, and ETOPO5 depths were used in deeper water (&gt; 400 m).</P>

<A name="113113"><!-- 113113 --></A>
<P>GPS "SA" degradation (see section 3) was in force during this voyage, and Ashtech 3DF GPS coverage was nearly 100%.</P>

<A name="113114"><!-- 113114 --></A>
<P>A very small amount of on-station data may have been mildly corrupted in the top 50 m by one acoustic beam intersecting water dragged by the CTD wire.  However, this was not obviously noticeable in the 3 minute ensemble data. </P>

<A name="112889"><!-- 112889 --></A>
<P>Reference layer averaging (RLA) failed far more often than on the Franklin with 99% of the 3 minute ensembles having bad RLA, compared with typically 5% of ensembles from a Franklin cruise.  During data acquisition, the reference layer on both ships is chosen as being from bins 3 to 6.  Obviously, the chance of experiencing bad data in all bins 3 to 6 during at least one ping in any 3 minute ensemble is far higher on the Southern Surveyor than on the Franklin, possibly due to bubbles under the hull in rough seas.  In ensembles where RLA has failed, bins with low %Good will often poorly match the rest of the profile, and this may be very bad if the ship accelerated during the ensemble.  This was found to be a problem on SS02/98 with less stringent %Good screening during periods of RLA failure resulting in an apparent current speed shear with depth during periods of ship acceleration.  A similar "shear effect" has been evident in the narrowband ADCP data on the Aurora Australis where it has been partially removed by averaging over a reference layer from bin 8 to 20 during data acquisition.   During processing of the SS02/98 data, the "shear effect" was mostly removed by tightening up the %Good screening during periods of RLA failure, with particularly high %Good threshold (70%) during periods of ship acceleration (see Section 2).  The residual "shear effect" was taken into account in estimating calibration errors (see Section 4).  The final integrated (20 and 60 mins) SS02/98 ADCP files have been produced with RLA over bins 3 to 15 and merged with files using no RLA.  Averaging the 3 minute ensemble velocities over a reference layer from bins 3 to 15 resulted in only 16% of integrated profiles having bad RLA.  On future Southern Surveyor cruises, the ADCP should be tested with both RLA off and RLA over bins 5 to 15 (as recommended by Eric Firing).</P>

<A name="112663"><!-- 112663 --></A>
<H3>&nbsp;&nbsp;1.1&nbsp;&nbsp;&nbsp;Profiles integrated</H3>

<A name="112713"><!-- 112713 --></A>
<P>All files were first integrated using reference layer averaging over bins 3 to 15, then merged with files which were integrated using no RLA.</P>

<A name="113144"><!-- 113144 --></A>
<H4>Bottom track corrected, no reference layer averaging in final integration: ss9802.abt</H4>

<A name="112302"><!-- 112302 --></A>
<P>53   20 minute profiles (~4% of voyage covered).</P>

<A name="112304"><!-- 112304 --></A>
<H4>GPS corrected (direct  GPS ship velocities preferred to position-derived GPS velocities): </H4>

<A name="112305"><!-- 112305 --></A>
<P>ss9802.agp:  1087  20 minute profiles  (~75% of voyage covered).  Use with care, if at all, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as SA was active.</P>

<A name="112942"><!-- 112942 --></A>
<P>ss9802_60.agp:  371  60 minute profiles (~76% coverage).  </P>

<A name="112936"><!-- 112936 --></A>
<P>Best available correction (Bottom track preferred to direct GPS ship velocities, preferred to position-derived GPS velocities): </P>

<A name="113134"><!-- 113134 --></A>
<P>ss9802.any:  1087  20 minute profiles  (~75% of voyage covered).  Use with care, if at all, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as SA was active.</P>

<A name="113139"><!-- 113139 --></A>
<P>ss9802_60.any:  371  60 minute profiles (~76% coverage).  </P>

<A name="112733"><!-- 112733 --></A>
<H4>Non-integrated profiles (3 minute ensembles): e_9802.any</H4>

<A name="112737"><!-- 112737 --></A>
<P>All possible ensembles with best available correction (bottom track preferred to direct  GPS velocities, preferred to position-derived GPS velocities).</P>

<A name="112957"><!-- 112957 --></A>
<P>NB: See ADCP Format Guide (attached) for explanation of processed file formats.</P>

<A name="112958"><!-- 112958 --></A>
<H2>&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;Data Rejections</H2>

<A name="112959"><!-- 112959 --></A>
<P>Out of a total of 9189 three minute ensembles, 7704 made it through to the processed file stage, with 123279 total good bins.</P>

<A name="112960"><!-- 112960 --></A>
<P>Bin 1 Rejections:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  5217</P>

<A name="112961"><!-- 112961 --></A>
<P>Number of bins rejected due solely to:</P>

<A name="112962"><!-- 112962 --></A>

<br>
<!--L3BulletPlain-->%Good &lt; 25%:    130745<!--L3BulletPlain--><br>

<A name="113056"><!-- 113056 --></A>

<br>
<!--L3BulletPlain-->%Good &lt; 40% where RLA was bad and no acceleration: 8192<!--L3BulletPlain--><br>

<A name="113149"><!-- 113149 --></A>

<br>
<!--L3BulletPlain-->%Good &lt; 70% where RLA was bad and there was acceleration: 955<!--L3BulletPlain--><br>

<A name="112963"><!-- 112963 --></A>

<br>
<!--L3BulletPlain-->Vertical velocity  &gt;  0.22 m/s:&nbsp;&nbsp;&nbsp;   3  <!--L3BulletPlain--><br>

<A name="112964"><!-- 112964 --></A>

<br>
<!--L3BulletPlain-->S.D. of error velocity &gt; 0.17 m/s:   24139<!--L3BulletPlain--><br>

<A name="112965"><!-- 112965 --></A>

<br>
<!--L3BulletPlain-->Absolute velocity &gt; 2.5 m/s:    0<!--L3BulletPlain--><br>

<A name="112966"><!-- 112966 --></A>

<br>
<!--L3BulletPlain-->dv/dz shear per metre in upper 200 m &gt; 0.040 m/s:    5<!--L3BulletPlain--><br>

<A name="112967"><!-- 112967 --></A>
<P>Number of bins rejected due to multiple tests:    163645</P>

<A name="113069"><!-- 113069 --></A>
<P>The reason for the high rate of data rejections, in spite of relatively relaxed processing thresholds, was due to a combination of slow ping rate and acoustic interference from the EK500 echosounder and possibly the fish sonar.</P>

<A name="113070"><!-- 113070 --></A>
<P>When integrating the three minute ensemble data over 20 or 60 minutes the following criteria were used:</P>

<A name="113071"><!-- 113071 --></A>

<br>
<!--L3BulletPlain-->Maximum bottom track error velocity:   0.15 m/s<!--L3BulletPlain--><br>

<A name="113079"><!-- 113079 --></A>

<br>
<!--L3BulletPlain-->Minimum bottom track %Good:   50%<!--L3BulletPlain--><br>

<A name="113080"><!-- 113080 --></A>

<br>
<!--L3BulletPlain-->Minimum number of bottom track values:   10<!--L3BulletPlain--><br>

<A name="113081"><!-- 113081 --></A>

<br>
<!--L3BulletPlain-->Minimum % attendance for any bin in a profile (ipcok):  30%<!--L3BulletPlain--><br>

<A name="113082"><!-- 113082 --></A>

<br>
<!--L3BulletPlain-->Minimum % attendance of good ensembles in profile:  50%<!--L3BulletPlain--><br>

<A name="113089"><!-- 113089 --></A>

<br>
<!--L3BulletPlain--><!--L3BulletPlain--><br>

<A name="113086"><!-- 113086 --></A>
<H2>&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;GPS data degraded by SA (Selective Availability)</H2>

<A name="112310"><!-- 112310 --></A>
<P>The US Department of Defence, who operates the GPS satellites, has introduced deliberate complex errors into GPS data. It is generally considered that these errors cannot be removed without extra equipment and post processing (and even then cannot be achieved with deep ocean work.)</P>

<A name="112312"><!-- 112312 --></A>
<P>The characteristics of SA errors are probably changed from time to time, however they usually seem to be across quite a wide time spectrum. Of most concern for ADCP data are the errors of order 50 cm/s over 5 to 10 minute periods. There also appears to be a smaller and lower frequency component, the worst case so far observed had a residual error of 6 cm/s after averaging an hour's data.</P>

<A name="112314"><!-- 112314 --></A>
<H3>&nbsp;&nbsp;3.1&nbsp;&nbsp;&nbsp;The implications for ADCP data are:</H3>

<A name="112406"><!-- 112406 --></A>

<UL>
<!--L1Bullet--><LI>individual GPS corrected ensembles (3 minute or less) often have errors of around .&nbsp;&nbsp;&nbsp;5 &nbsp;&nbsp;&nbsp;m/s.<!--L1Bullet--></LI>

<A name="112316"><!-- 112316 --></A>
<!--L1Bullet--><LI>The existence of such errors prohibits the use of some quality control measures, &nbsp;&nbsp;&nbsp;especially, ofcourse, dv/dt.<!--L1Bullet--></LI>

<A name="112317"><!-- 112317 --></A>
<!--L1Bullet--><LI>20 minute integrated profiles will usually have little extra error, maybe 1 or 2 cm/s. &nbsp;&nbsp;&nbsp;However, at times low frequency components of SA may cause larger errors, up to &nbsp;&nbsp;&nbsp;10 or 20 cm/s.<!--L1Bullet--></LI>

<A name="112318"><!-- 112318 --></A>
<!--L1Bullet--><LI>60 minute profiles will rarely have more than 1 or 2 cm/s extra error.<!--L1Bullet--></LI>

<A name="112319"><!-- 112319 --></A>
<!--L1Bullet--><LI>Incomplete 20 minute profiles (low 'icover' percentage) are less reliable because &nbsp;&nbsp;&nbsp;they are probably incomplete due to a break in GPS coverage, and data adjacent &nbsp;&nbsp;&nbsp;gaps is usually of poorer quality. Also, &nbsp;&nbsp;&nbsp;the SA errors are less likely to have been removed by averaging. <!--L1Bullet--></LI>

<A name="112322"><!-- 112322 --></A>
<!--L1Bullet--><LI>Bottom track and shear data are, of course, unaffected by this. When using &nbsp;&nbsp;&nbsp;GPS to get ship's position, these errors are negligible (200m or 300m at most).<!--L1Bullet--></LI>

<A name="112337"><!-- 112337 --></A>

</UL>
<H2>&nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;Calibration</H2>

<A name="112775"><!-- 112775 --></A>
<P>ADCP water profile vectors (measured relative to the ship) are calibrated by being rotated through an angle alpha and multiplied by scaling factor  1 + beta. The rotational calibration primarily corrects for misalignment of the transducer with respect to the ship, of the ship with respect to the attitude sensor (in this case, the 3DF GPS), and the error in the attitude sensor.  The scaling multiplier primarily corrects biases arising from the profiler itself. Both of these calibrations make a large difference to the resultant currents, particularly because they are both applied to the usually large ship-relative currents. For example, a scaling multiplier of 0.01 applied when the water velocity with respect to the ship is 6m/s alters the measured absolute currents by 6 cm/s.</P>

<A name="112840"><!-- 112840 --></A>
<P>Calibration chosen for this voyage:</P>

<A name="112841"><!-- 112841 --></A>
<P>&nbsp;&nbsp;&nbsp;alpha = -0.23 +/- 0.1 degrees (for transducer correction, xcor, of 528 mrads),</P>

<A name="112777"><!-- 112777 --></A>
<P>&nbsp;&nbsp;&nbsp;1 + beta =  1.002 +/- 0.01  (the relatively high error is due to the "shear effect").  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </P>

<A name="112616"><!-- 112616 --></A>
<P>&nbsp;&nbsp;&nbsp; </P>

<A name="112347"><!-- 112347 --></A>
<H2>&nbsp;&nbsp;5&nbsp;&nbsp;&nbsp;Errors</H2>

<A name="112348"><!-- 112348 --></A>
<P>The data provided should not be taken as absolutely true and accurate. There are many sources of error, some of which are very hard to quantify. Often the largest error is that of determining the ship's actual velocity.</P>

<A name="113155"><!-- 113155 --></A>
<H3>&nbsp;&nbsp;5.1&nbsp;&nbsp;&nbsp;Accuracy of ship's heading and speed</H3>

<A name="113156"><!-- 113156 --></A>
<P>The ADCP data acquisition software calculated current velocities using values of ship's heading and velocity measured by the Ashtech 3DF ADU2 GPS.  According to the Ashtech ADU2 technical manual these heading and velocity values have a dynamic error of +/- 0.2 degrees and 1 cm/sec, respectively.  These errors, being random, should cancel out over 20 or 60 minute integrated profiles.  The long term bias in the 3DF GPS heading and velocity measurements is yet to be calculated from static and dynamic calibrations.</P>

<A name="112350"><!-- 112350 --></A>
<H3>&nbsp;&nbsp;5.2&nbsp;&nbsp;&nbsp;Accuracy of water velocity relative to the ship</H3>

<A name="112351"><!-- 112351 --></A>
<P>The theoretical approximate short-term velocity error for our 150 kHz BBADCP is:</P>

<A name="113092"><!-- 113092 --></A>
<P>&nbsp;&nbsp;&nbsp;sigma = 1/(pulse length   X   square root of pings per average)</P>

<A name="113093"><!-- 113093 --></A>
<P>For a 3 minute ensemble with say 170 pings, using 8m pulse, this gives a theoretical error of 1 cm/s for each value (that is, independently for each bin).  </P>

<A name="112355"><!-- 112355 --></A>
<P>For 20 minute profiles, with say 1150 pings averaged, the error in measuring the velocity of the water relative to the ship is probably reduced to the long term systematic bias. Of this bias, RDI says</P>

<A name="112356"><!-- 112356 --></A>
<P>&nbsp;&nbsp;&nbsp;"Internal bias is typically less than 1 cm/s, depending on several &nbsp;&nbsp;&nbsp;factors including temperature, mean current speed, signal/noise ratio, beam &nbsp;&nbsp;&nbsp;geometry errors, etc.  It is not yet possible to measure ADCP bias and to calibrate or &nbsp;&nbsp;&nbsp;remove it in post-processing."</P>

<A name="112358"><!-- 112358 --></A>
<P>As well as that, there are the transducer alignment and 3DF GPS heading errors, which probably have a residual effect after calibrating of roughly:</P>

<A name="113094"><!-- 113094 --></A>

<br>
<!--L1NumberPlain-->&nbsp;&nbsp;&nbsp;0.2 cm/s  per m/s of ship speed, due to, say,  0.1 degrees uncertainty and variation in alignment angle.<!--L1NumberPlain--><br>

<A name="113095"><!-- 113095 --></A>

<br>
<!--L1NumberPlain-->&nbsp;&nbsp;&nbsp;1 cm/s  per m/s of ship speed, due to, say, 0.01 uncertainty and variation in scaling factor.<!--L1NumberPlain--><br>

<A name="112361"><!-- 112361 --></A>
<P>This gives us, say, 1.02 cm/s error per m/s of ship speed, or 6.3  cm/s at 12 knots.</P>

<A name="112363"><!-- 112363 --></A>
<P>Other sources of bias might be the real-time and post-processing data screening, and depth-dependent bias.</P>

<A name="112365"><!-- 112365 --></A>
<H3>&nbsp;&nbsp;5.3&nbsp;&nbsp;&nbsp;GPS profiles</H3>

<A name="112366"><!-- 112366 --></A>
<P>In the presence of SA, errors are larger and even very large errors cannot be removed by dv/dt screening (because this would bias the long term average - there is reason to assume that given a long enough period the accumulated SA error is close to zero).  </P>

<A name="112368"><!-- 112368 --></A>
<H3>&nbsp;&nbsp;5.4&nbsp;&nbsp;&nbsp;Bottom track profiles</H3>

<A name="112369"><!-- 112369 --></A>
<P>Firstly note that errors arising from transducer alignment and attitude sensor limitations will substantially cancel out. Normally, the accuracy of screened bottom track data appears to be of the same order of accuracy  as non-SA GPS, that is, about 2 - 3 cm/s for a 20 minute profile.</P>

<A name="112976"><!-- 112976 --></A>
<H2>&nbsp;&nbsp;6&nbsp;&nbsp;&nbsp;Reccomendations </H2>

<A name="112923"><!-- 112923 --></A>

<UL>
<!--L1Bullet--><LI>The ADCP acquisition parameters should be modified so that reference layer averaging is performed over bins 5 to 15, below the region of high apparent data corruption due to bubbles.  <!--L1Bullet--></LI>

<A name="112911"><!-- 112911 --></A>
<!--L1Bullet--><LI>When it is essential that good ADCP data is collected, the ADCP must be "master" with all other acoustic equipment synchronised to the ADCP.  <!--L1Bullet--></LI>

<A name="113040"><!-- 113040 --></A>
<!--L1Bullet--><LI>In areas where ADCP range is important the ship should travel as slowly as possible.<!--L1Bullet--></LI>

</UL>

<P><HR>

<EM>Generated by <STRONG>fmtoweb (v. 2.9b)</STRONG> written by Peter G. Martin <a href="mailto:peterm@zeta.org.au">&lt;peterm@zeta.org.au&gt;</a> Last modified: 18 May 1998</EM><P>
</BODY>
</HTML>
